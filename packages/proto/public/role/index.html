<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/styles/reset.css" />
        <link rel="stylesheet" href="/styles/tokens.css" />
        <link rel="stylesheet" href="/styles/page.css" />
        <link rel="stylesheet" href="/styles/form.css" />
        <script type="importmap">
            {
              "imports": {
                "@calpoly/mustang": "/node_modules/@calpoly/mustang/dist/mustang.mjs"
              }
            }
        </script>
        <script type="module" src="/js/restful-form.js"></script>
        <script type="module" src="/js/role-view.js"></script>
        <script type="module" src="/js/side-bar.js"></script>
        <script type="module">
            import { relayEvent } from "/js/relay-event.js";
            import { toggleDarkMode } from "/js/toggle-dark-mode.js";

            window.relayEvent = relayEvent;
            window.toggleDarkMode = toggleDarkMode;
        </script>
        <script type="module">
            document.body.addEventListener(
               "dark-mode:toggle",
               (event) => {
                   const page = event.currentTarget;
                   page.classList.toggle("dark-mode");
               }
           );
        </script>
        <script type="module">
            import { define, Auth } from "@calpoly/mustang";
          
            define({ "mu-auth": Auth.Provider });
        </script>
    </head>
    <body class="page dark-mode">
        <mu-auth provides="acorn:auth" redirect="../login.html">
            <side-bar class="dark-mode"></side-bar>
            <header>
                <h1>
                    AcornArranger
                </h1>
            </header>
            <main>
                <h2>View Role #1</h2>
                <role-view src="/api/roles/1"></role-view>
                <a href="#" onclick="relayEvent(event, 'auth:message', ['auth/signout'])">
                    <i class='bx bx-log-out'></i>
                    <span class="nav-item">Logout</span>
                </a>
            </main>
        </mu-auth>
    </body>
</html>