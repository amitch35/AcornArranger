<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Login | AcornArranger</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/styles/reset.css" />
        <link rel="stylesheet" href="/styles/tokens.css" />
        <link rel="stylesheet" href="/styles/page.css" />
        <link rel="stylesheet" href="/styles/form.css" />
        <link rel="stylesheet" href="/styles/login.css" />
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <!-- <script type="module" src="/js/login-form.js"></script> -->
        <script type="module">
            document.body.addEventListener(
                "dark-mode:toggle",
                (event) => {
                    const page = event.currentTarget;
                    page.classList.toggle("dark-mode");
                }
            );

            document.body.addEventListener(
                "action-selector:login",
                (event) => {
                    const page = event.currentTarget;
                    const login_card = page.querySelector(".login-card");
                    login_card.classList.remove("signup");
                }
            );

            document.body.addEventListener(
                "action-selector:signup",
                (event) => {
                    const page = event.currentTarget;
                    const login_card = page.querySelector(".login-card");
                    login_card.classList.add("signup");
                }
            );
        </script>
        <script type="module">
            import { define, Auth, Events } from "@calpoly/mustang";
          
            define({ "mu-auth": Auth.Provider });
            window.relayEvent = Events.relay;
        </script>
    </head>
    <body class="dark-mode">
        <mu-auth>
        <article class="page">
            <a href="/index.html" class="home-btn">
                <i class='bx bxs-home'></i>
                <span>Home</span>
            </a>
            <main class="login-card">
                <div class="logo">
                    <img src="../images/AcornArranger Logo.png" alt="AcornArranger Logo">
                </div>
                <nav class="action-selector">
                    <button id="login-btn" onclick="relayEvent(event,'action-selector:login',{})">
                        <i class='bx bx-log-in'></i>
                        <span>Login</span>
                    </button>
                    <button id="signup-btn" onclick="relayEvent(event,'action-selector:signup',{})">
                        <i class='bx bxs-edit'></i>
                        <span>Signup</span>
                    </button>
                </nav>
                <div class="forms">
                    <login-form id="login">
                        <label>
                            <span>Email:</span>
                            <input name="email" autocomplete="off" placeholder="you@example.com" required="true" />
                        </label>
                        <label>
                            <span>Password:</span>
                            <input type="password" name="password" placeholder="••••••••" required="true" />
                        </label>
                    </login-form>
                    <restful-form id="signup" new src="/auth/signup">
                        <label>
                            <span>First Name:</span>
                            <input name="first_name" autocomplete="off" />
                        </label>
                        <label>
                            <span>Last Name:</span>
                            <input name="last_name" autocomplete="off" />
                        </label>
                        <label>
                            <span>Email:</span>
                            <input name="email" autocomplete="off" placeholder="you@example.com" required="true" />
                        </label>
                        <label>
                            <span>Password:</span>
                            <input type="password" name="password" placeholder="••••••••" required="true" />
                        </label>
                    </restful-form>
                </div>
            </main>
            <a href="#" class="dark-mode-btn" id="theme-btn" onclick="relayEvent(event,'dark-mode:toggle',{})" >
                <i class='bx bxs-sun dark-mode-only'></i>
                <i class='bx bxs-moon light-mode-only'></i>
                <span>Theme</span>
            </a>
        </article>
        </mu-auth>
    </body>
</html>